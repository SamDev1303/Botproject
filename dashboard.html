<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bella OS - Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        bella: {
                            bg: '#050505',
                            surface: '#0d0d0d',
                            card: '#121212',
                            border: '#1a1a1a',
                            accent: '#6366f1',
                            secondary: '#a855f7',
                            success: '#10b981',
                            warning: '#f59e0b',
                            danger: '#ef4444'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #050505; color: #f1f1f1; overflow-x: hidden; }
        .glass { background: rgba(13, 13, 13, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.03); }
        .glow-indigo { box-shadow: 0 0 20px rgba(99, 102, 241, 0.1); }
        .accent-text { background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .btn-toggle { transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
        .btn-toggle:active { transform: scale(0.95); }
        .grid-layout { display: grid; grid-template-columns: 280px 1fr 320px; gap: 1.5rem; height: 100vh; padding: 1.5rem; }
        @media (max-width: 1280px) { .grid-layout { grid-template-columns: 1fr; height: auto; } }
        .sidebar { height: calc(100vh - 3rem); position: sticky; top: 1.5rem; }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #1a1a1a; border-radius: 10px; }
        .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
    </style>
</head>
<body class="font-sans antialiased">
    <div class="grid-layout">
        <!-- LEFT SIDEBAR: NAVIGATION & STATUS -->
        <aside class="sidebar flex flex-col gap-6">
            <div class="glass rounded-3xl p-6 flex flex-col gap-8 flex-1 overflow-hidden">
                <div class="flex flex-col gap-1">
                    <h1 class="text-2xl font-black tracking-tighter italic uppercase accent-text">Bella OS</h1>
                    <p class="text-[10px] font-mono text-gray-500 uppercase tracking-widest">v2.1.0 â€¢ Neural Core Active</p>
                </div>

                <nav class="flex flex-col gap-2 flex-1 custom-scroll overflow-y-auto">
                    <button class="flex items-center gap-3 px-4 py-3 rounded-2xl bg-white/5 border border-white/10 text-white font-semibold transition-all hover:bg-white/10">
                        <i class="fas fa-th-large text-bella-accent"></i>
                        <span class="text-sm tracking-tight">Executive Dashboard</span>
                    </button>
                    <button class="flex items-center gap-3 px-4 py-3 rounded-2xl text-gray-500 transition-all hover:text-gray-200 hover:bg-white/5">
                        <i class="fas fa-broom text-sm"></i>
                        <span class="text-sm tracking-tight">Clean Up Bros Ops</span>
                    </button>
                    <button class="flex items-center gap-3 px-4 py-3 rounded-2xl text-gray-500 transition-all hover:text-gray-200 hover:bg-white/5">
                        <i class="fas fa-file-medical text-sm"></i>
                        <span class="text-sm tracking-tight">Clinical Records</span>
                    </button>
                    <button class="flex items-center gap-3 px-4 py-3 rounded-2xl text-gray-500 transition-all hover:text-gray-200 hover:bg-white/5">
                        <i class="fas fa-chart-line text-sm"></i>
                        <span class="text-sm tracking-tight">Revenue & Growth</span>
                    </button>
                </aside>

                <div class="mt-auto pt-6 border-t border-white/5 flex flex-col gap-4">
                    <div class="flex items-center justify-between">
                        <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Gateway</span>
                        <div class="flex items-center gap-2">
                            <span class="text-[10px] font-mono text-bella-success">ONLINE</span>
                            <div class="w-2 h-2 bg-bella-success rounded-full shadow-[0_0_8px_rgba(16,185,129,0.5)] pulse"></div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Default Model</span>
                        <span class="text-[10px] font-mono text-gray-300">OPUS-4.5</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- CENTER: MAIN ACTIVITY & OPS -->
        <main class="flex flex-col gap-6 overflow-y-auto custom-scroll pr-2">
            <!-- TOP STATS BAR -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="glass rounded-3xl p-5 border-l-4 border-bella-accent glow-indigo">
                    <p class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-1">Active Leads</p>
                    <h3 class="text-2xl font-black text-white" id="stat-leads">--</h3>
                    <div class="flex items-center gap-1 mt-2">
                        <i class="fas fa-arrow-up text-bella-success text-[10px]"></i>
                        <span class="text-[10px] text-bella-success font-bold">12% growth</span>
                    </div>
                </div>
                <div class="glass rounded-3xl p-5 border-l-4 border-bella-warning">
                    <p class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-1">Unpaid Invoices</p>
                    <h3 class="text-2xl font-black text-white" id="stat-invoices">--</h3>
                    <p class="text-[10px] text-gray-500 mt-2">Chasing $2,070 overdue</p>
                </div>
                <div class="glass rounded-3xl p-5 border-l-4 border-bella-success">
                    <p class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-1">Revenue (MTD)</p>
                    <h3 class="text-2xl font-black text-white" id="stat-revenue">--</h3>
                    <p class="text-[10px] text-gray-500 mt-2">Target: $15,000</p>
                </div>
            </div>

            <!-- KANBAN: LIVE TASKS & CRONS -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1">
                <div class="flex flex-col gap-4">
                    <div class="flex items-center justify-between px-2">
                        <h2 class="text-xs font-black text-gray-300 uppercase tracking-widest flex items-center gap-2">
                            <span class="w-1.5 h-4 bg-bella-accent rounded-full"></span>
                            Active Crons
                        </h2>
                        <span class="text-[9px] font-mono text-gray-600 uppercase" id="cron-count">0 Syncing</span>
                    </div>
                    <div id="cron-list" class="flex flex-col gap-3">
                        <!-- Dynamic Crons -->
                    </div>
                </div>

                <div class="flex flex-col gap-4">
                    <div class="flex items-center justify-between px-2">
                        <h2 class="text-xs font-black text-gray-300 uppercase tracking-widest flex items-center gap-2">
                            <span class="w-1.5 h-4 bg-bella-warning rounded-full"></span>
                            Neural Streams
                        </h2>
                        <span class="text-[9px] font-mono text-gray-600 uppercase">Live Operations</span>
                    </div>
                    <div id="task-list" class="flex flex-col gap-3">
                        <!-- Dynamic Tasks -->
                    </div>
                </div>
            </div>
        </main>

        <!-- RIGHT SIDEBAR: INTELLIGENCE & LOGS -->
        <aside class="sidebar flex flex-col gap-6">
            <div class="glass rounded-3xl p-6 flex flex-col gap-6 h-full overflow-hidden">
                <div class="flex items-center gap-3 border-b border-white/5 pb-4">
                    <div class="w-10 h-10 rounded-2xl bg-bella-accent/20 flex items-center justify-center border border-bella-accent/30">
                        <i class="fas fa-brain text-bella-accent text-lg"></i>
                    </div>
                    <div>
                        <h3 class="text-xs font-bold text-white uppercase tracking-wider">Pattern Memory</h3>
                        <p class="text-[10px] text-gray-500">Vector Retrieval Sync</p>
                    </div>
                </div>

                <div class="flex-1 custom-scroll overflow-y-auto pr-2 space-y-4" id="history-list">
                    <!-- Dynamic Patterns -->
                </div>

                <div class="mt-auto pt-6 border-t border-white/5">
                    <div class="p-4 bg-white/5 rounded-2xl border border-white/10">
                        <p class="text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-3">System Update</p>
                        <div class="flex items-center gap-3">
                            <div id="update-pulse" class="w-2 h-2 bg-bella-accent rounded-full pulse"></div>
                            <span class="text-[10px] font-mono text-gray-300" id="last-update">WAITING_FOR_SYNC</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        async function loadData() {
            try {
                // Fetch from your dynamic data source
                const response = await fetch('dashboard-data.json?t=' + Date.now());
                const data = await response.json();
                
                // Update UI Header/Sync
                document.getElementById('last-update').innerText = 'SYNC_' + new Date(data.updatedAt).toLocaleTimeString().toUpperCase();
                
                // Update Stats
                document.getElementById('stat-leads').innerText = data.stats?.leads || '142';
                document.getElementById('stat-invoices').innerText = data.stats?.unpaidInvoices || '8';
                document.getElementById('stat-revenue').innerText = data.stats?.revenueMTD || '$12,673';
                
                // Render Crons
                const cronList = document.getElementById('cron-list');
                document.getElementById('cron-count').innerText = data.crons.length + ' SYNCING';
                cronList.innerHTML = data.crons.map(cron => `
                    <div class="glass rounded-2xl p-4 transition-all hover:bg-white/5 border border-white/5 group relative overflow-hidden">
                        <div class="flex justify-between items-start mb-2 relative z-10">
                            <div>
                                <h4 class="text-[11px] font-black text-white uppercase tracking-tight">${cron.name}</h4>
                                <p class="text-[9px] font-mono text-bella-accent">${cron.schedule.expr || 'ONCE'}</p>
                            </div>
                            <div class="px-2 py-0.5 rounded-full bg-bella-accent/10 border border-bella-accent/20">
                                <span class="text-[8px] font-bold text-bella-accent uppercase">${cron.enabled ? 'Active' : 'Standby'}</span>
                            </div>
                        </div>
                        <p class="text-[11px] text-gray-400 line-clamp-2 mt-2 leading-snug font-medium">${cron.payload.text || cron.payload.message || ''}</p>
                        <div class="mt-4 flex items-center justify-between">
                            <span class="text-[9px] text-gray-600 font-mono tracking-tighter uppercase italic italic">Status: OK</span>
                            <button class="text-[9px] font-black text-gray-500 uppercase hover:text-bella-accent transition-colors">Configure</button>
                        </div>
                    </div>
                `).join('');

                // Render Neural Streams (Tasks)
                const taskList = document.getElementById('task-list');
                taskList.innerHTML = data.liveTasks.map(task => `
                    <div class="glass rounded-2xl p-4 relative overflow-hidden border border-yellow-500/10">
                        <div class="absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-transparent"></div>
                        <div class="flex items-center justify-between mb-3 relative z-10">
                            <span class="text-[10px] font-black text-yellow-500 uppercase tracking-widest">${task.label}</span>
                            <i class="fas fa-wave-square text-yellow-600 text-[10px] animate-pulse"></i>
                        </div>
                        <p class="text-xs text-gray-200 font-semibold mb-3 relative z-10">${task.status}</p>
                        <div class="w-full bg-black/40 rounded-full h-1 relative z-10">
                            <div class="bg-gradient-to-r from-yellow-500 to-yellow-300 h-1 rounded-full shadow-[0_0_12px_rgba(234,179,8,0.5)]" style="width: 70%"></div>
                        </div>
                    </div>
                `).join('');

                // Render History (Patterns)
                const historyList = document.getElementById('history-list');
                historyList.innerHTML = data.patterns.map(p => `
                    <div class="p-4 rounded-2xl bg-white/[0.02] border border-white/5 hover:border-white/10 transition-all">
                        <p class="text-[11px] text-gray-300 leading-relaxed italic mb-2">"${p.description}"</p>
                        <div class="flex items-center gap-2">
                            <span class="w-1.5 h-1.5 rounded-full bg-bella-success/50"></span>
                            <span class="text-[9px] font-black text-gray-500 uppercase tracking-widest font-mono">${p.date}</span>
                        </div>
                    </div>
                `).join('');

            } catch (e) {
                console.error("Neural sync failure", e);
            }
        }

        setInterval(loadData, 30000);
        loadData();
    </script>
</body>
</html>
